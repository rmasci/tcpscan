#!/bin/bash

# Make sure tcpscan is in your path and this script is in the same directory as svrlist.txt
tcpscan -f srverlist.txt -s -i -d -c "`date +'%Y-%m-%d %H:%M:%S'`"

# +------------------------+---------+-----------+-------------+-------------+-------------+----------------------------+
# |    2020-01-30 11:04:30 |    Port |    Status |         TCP |        ICMP |    NSLookup |                        SSL |
# +========================+=========+===========+=============+=============+=============+============================+
# |          216.58.194.68 |     443 |      Open |     68.96ms |     51.10ms |     44.49ms |     TLS v1.2 / OK: 67 days |
# |           98.137.246.8 |     443 |      Open |    108.94ms |    111.68ms |     66.68ms |    TLS v1.2 / OK: 169 days |
# |          157.240.18.35 |     443 |      Open |     81.16ms |     83.33ms |     55.72ms |     TLS v1.2 / OK: 75 days |
# |          13.226.180.75 |     443 |      Open |     44.68ms |     46.04ms |     85.41ms |    TLS v1.2 / OK: 205 days |
# |           23.216.9.249 |     443 |      Open |     74.91ms |     73.39ms |     73.28ms |    TLS v1.2 / OK: 370 days |
# +------------------------+---------+-----------+-------------+-------------+-------------+----------------------------+